(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{5378:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events",function(){return n(232)}])},232:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var s=n(5893),r=n(9008),i=n.n(r),a=n(5121),o=n.n(a),c=n(8755),l=n(6892),d=n.n(l),h=n(1033),v=n.n(h),_=function(){return(0,s.jsxs)("div",{className:v().content,children:[(0,s.jsx)("div",{className:v().organizer,children:(0,s.jsx)("h3",{children:"Department of Information Technology's"})}),(0,s.jsx)("div",{className:v().heading,children:(0,s.jsx)("h1",{children:"Praxis"})}),(0,s.jsx)("div",{className:v().date,children:(0,s.jsx)("p",{children:"11/03/2023 - 18/03/2023"})}),(0,s.jsxs)("div",{className:v().descriptiion,children:[(0,s.jsx)("p",{children:"Hackathon + Coding Contest + On Stage + Off Stage + Gaming "}),(0,s.jsx)("p",{children:"Prize Pool more than 80,000 & Goodies"})]})]})},g=n(1664),x=n.n(g),u=n(1234),f=n.n(u),j=n(7294),m=function(e){let[t,n]=(0,j.useState)(!1),[r,i]=(0,j.useState)(""),[a,o]=(0,j.useState)("");(0,j.useEffect)(()=>{o(localStorage.getItem("accessToken")||"")},[]),(0,j.useEffect)(()=>{"onsite"==e.event.registration.type&&!1!==Boolean(a)&&fetch("https://asia-south1-nsccpccoe.cloudfunctions.net/register/".concat(e.event.id,"/status"),{headers:{authorization:"Bearer ".concat(a)}}).then(e=>{if(!e.ok)throw e.status+e.statusText;return e}).then(e=>e.json()).then(e=>{var t;return n(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.registered)}).catch(e=>{i(e)})},[e.event.registration.type,e.event.id,a]);let c="";return c=r?r.toString():t?"Registered":"Register",c=t?"Registered":"Register",(0,s.jsxs)(x(),{className:f().container,href:e.event.eventPage.link,target:"offsite"===e.event.eventPage.type?"_blank":"_self",children:[(0,s.jsx)("div",{className:f().type,children:(0,s.jsx)("p",{children:e.type})}),(0,s.jsx)("div",{className:f().heading,children:(0,s.jsx)("h1",{children:e.heading})}),(0,s.jsx)("div",{className:f().duration,children:(0,s.jsx)("p",{children:e.duration})}),(0,s.jsx)(x(),{className:f().regButton,href:e.event.registration.link,target:"offsite"===e.event.registration.type?"_blank":"_self",children:c})]})},p=n(1270),E=n(2556);let N=e=>new Date(e).toLocaleString("en-IN").toUpperCase(),w=e=>(0,s.jsxs)(p.Z,{severity:"error",children:[(0,s.jsx)(E.Z,{children:"Error while fetching events! "}),e.errorMessage]}),C=e=>{let{events:t,errorMessage:n}=e;return t.sort((e,t)=>e.startAt-t.startAt),(0,s.jsxs)("div",{className:d().container,children:[(0,s.jsx)("div",{className:d().content,children:(0,s.jsx)(_,{})}),(0,s.jsx)("div",{className:d().events,children:0!=n.length?(0,s.jsx)(w,{errorMessage:n}):t.filter(e=>e.featured).map(e=>(0,s.jsx)(m,{event:e,type:e.subtitle,heading:e.displayName,direct:e.eventPage.link,duration:N(e.startAt)+" - "+N(e.endAt)},e.id))})]})};var A=n(3720),k=n.n(A);let y=e=>{let{event:t,eventName:n,date:r}=e;return(0,s.jsxs)(x(),{href:t.eventPage.link,target:"offsite"===t.eventPage.type?"_blank":"_self",className:k().row,children:[(0,s.jsx)("p",{children:n}),(0,s.jsxs)("p",{children:[new Date(t.startAt).toLocaleString("en-IN")," - ",new Date(t.endAt).toLocaleString("en-IN")]})]})};var S=n(2036),B=n.n(S);let P=e=>{let{heading:t,events:n}=e;return(0,s.jsxs)("div",{className:B().main,children:[(0,s.jsx)("p",{className:B().heading,children:t}),(0,s.jsx)("div",{className:B().tables,children:0==n.length?"No ".concat(t," were found"):n.map(e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(y,{event:e,eventName:e.displayName,date:new Date(e.startAt).toLocaleString("en-IN")},e.id)}))})]})},b=e=>(0,s.jsxs)(p.Z,{severity:"error",children:[(0,s.jsx)(E.Z,{children:"Error while fetching events! "}),e.errorMessage]}),D=e=>e.filter(e=>e.endAt<Date.now()).sort((e,t)=>t.endAt-e.endAt),L=e=>e.filter(e=>e.startAt>Date.now()).sort((e,t)=>e.startAt-t.startAt),I=e=>e.filter(e=>e.startAt<Date.now()&&e.endAt>Date.now()).sort((e,t)=>t.endAt-e.endAt);var M=function(){let[e,t]=(0,j.useState)([]),[n,r]=(0,j.useState)("");(0,j.useEffect)(()=>{fetch("https://asia-south1-nsccpccoe.cloudfunctions.net/events").then(e=>{if(!e.ok)throw e.status+" "+e.statusText;return e.json()}).then(e=>{e.isError?r(e.errorCode+" - "+e.errorMessage):t(e.data)}).catch(e=>{r(e)})},[]);let i=I(e),a=L(e),l=D(e);return(0,s.jsxs)("div",{className:o().mainContainer,children:[(0,s.jsx)(c.G,{}),(0,s.jsx)("div",{className:o().container,children:(0,s.jsx)(C,{events:e,errorMessage:n})}),0!=n.length?(0,s.jsx)(b,{errorMessage:n}):(0,s.jsxs)("div",{children:[i.length>0&&(0,s.jsx)(P,{heading:"Ongoing Events",events:I(e)}),a.length>0&&(0,s.jsx)(P,{heading:"Upcoming Events",events:L(e)}),l.length>0&&(0,s.jsx)(P,{heading:"Past Events",events:D(e)})]})]})},T=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:"NSCC PCCOE Event"}),(0,s.jsx)("meta",{name:"description",content:"NSCC Events"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)(M,{})]})}},6892:function(e){e.exports={container:"EventBox_container__2_5jk",events:"EventBox_events__LgA4E"}},1033:function(e){e.exports={content:"EventBoxContent_content__MI2lI",organizer:"EventBoxContent_organizer__o3fkT",heading:"EventBoxContent_heading__lAdxI",date:"EventBoxContent_date__8RBha",descriptiion:"EventBoxContent_descriptiion__TafIK"}},1234:function(e){e.exports={container:"EventElement_container__t4bjC",type:"EventElement_type__VFCMW",heading:"EventElement_heading__u8HzE",duration:"EventElement_duration__xyXV5",regButton:"EventElement_regButton__7M3K7"}},5121:function(e){e.exports={mainContainer:"Landing_mainContainer__eCxqo",container:"Landing_container__rxuLD"}},2036:function(e){e.exports={main:"EventList_main__uFnCb",heading:"EventList_heading__s3plX",tables:"EventList_tables__AvDKt"}},3720:function(e){e.exports={row:"EventRow_row___h_K_"}}},function(e){e.O(0,[193,755,774,888,179],function(){return e(e.s=5378)}),_N_E=e.O()}]);